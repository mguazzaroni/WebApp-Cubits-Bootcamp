@{
    ViewData["Title"] = "Crear Proveedor";
}

    @*<style>
        [v-cloak] {
            display: none !important;
        }
    </style>*@

<div class="row" v-scope v-cloak>
    <div class="col-lg-12">
        <h2>Crear Proveedor</h2>

        <form v-on:submit.prevent="submitForm">
            <div class="row">
                <div class="col-lg-6">
                    <div class="form-group">
                        <label>Nombre</label>
                        <input class="form-control" v-model="name" type="text" />
                    </div>
                    <div class="form-group">
                        <label>Descripcion</label>
                        <input class="form-control" v-model="description" type="text" />
                    </div>
                    <div class="form-group">
                        <label>Direccion</label>
                        <input class="form-control" v-model="address" type="text" />
                    </div>
                </div>
            </div>
            <div class="button-row">
                <button type="submit" class="btn btn-success">Guardar</button>
                <a href="/providers" class="btn btn-danger">Cancelar</a>
            </div>
        </form>
    </div>
    
</div>

@section Scripts 
{
    <script src="/lib/axios/axios.js"></script>
    <script src="/lib/petite-vue/petite-vue.js"></script>

    <script type="text/javascript">
        const app = {
            name: null,
            description: null,
            address: null,
            get data() {
                return {
                    name: this.name,
                    model: this.model,
                    description: this.description,
                    address: this.address,
                };
            },
            async submitForm() {
                await axios.post('/api/providers', this.data);
                redirectToLocation('/providers');
            }
        };

        PetiteVue.createApp(app).mount();
    </script>
 }